// Code generated by go/tools/generate_jira_issue_models/main.go. DO NOT EDIT.
package gen

import "encoding/json"

const JiraIssueByKeyQuery = `query JiraIssueByKey(
  $cloudId: ID!,
  $key: String!
) {
  issueByKey(key: $key, cloudId: $cloudId) {
    key
    issueType { name }
    status { name }
    projectField {
      project { key cloudId }
    }
    createdField { dateTime }
    updatedField { dateTime }
    resolutionDateField { dateTime }
    assigneeField {
      user { accountId name }
    }
    reporter { accountId name }
  }
}
`

type JiraUser struct {
	AccountID string `json:"accountId"`
	Name      string `json:"name"`
}

type JiraIssueType struct {
	Name string `json:"name"`
}

type JiraStatus struct {
	Name string `json:"name"`
}

type JiraProject struct {
	Key     string `json:"key"`
	CloudID string `json:"cloudId"`
}

type JiraProjectField struct {
	Project JiraProject `json:"project"`
}

type JiraDateTimePickerField struct {
	DateTime *string `json:"dateTime"`
}

type JiraSingleSelectUserPickerField struct {
	User *JiraUser `json:"user"`
}

type JiraIssueNode struct {
	Key                 string                           `json:"key"`
	IssueType           JiraIssueType                    `json:"issueType"`
	Status              JiraStatus                       `json:"status"`
	ProjectField        JiraProjectField                 `json:"projectField"`
	CreatedField        JiraDateTimePickerField          `json:"createdField"`
	UpdatedField        JiraDateTimePickerField          `json:"updatedField"`
	ResolutionDateField *JiraDateTimePickerField         `json:"resolutionDateField"`
	AssigneeField       *JiraSingleSelectUserPickerField `json:"assigneeField"`
	Reporter            *JiraUser                        `json:"reporter"`
}

type JiraIssueByKeyData struct {
	IssueByKey *JiraIssueNode `json:"issueByKey"`
}

func DecodeJiraIssueByKey(data map[string]any) (*JiraIssueByKeyData, error) {
	b, err := json.Marshal(data)
	if err != nil {
		return nil, err
	}
	var out JiraIssueByKeyData
	if err := json.Unmarshal(b, &out); err != nil {
		return nil, err
	}
	return &out, nil
}
